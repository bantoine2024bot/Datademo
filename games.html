<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Mini Games Collection</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    .grid-2048 { display: grid; grid-template-columns: repeat(4, 80px); gap: 5px; }
    .cell-2048 { width: 80px; height: 80px; display:flex; align-items:center; justify-content:center; font-weight:bold; font-size:20px; border-radius:8px; }
    .sudoku-grid { display:grid; grid-template-columns: repeat(9, 40px); gap:2px; }
    .sudoku-cell { width:40px; height:40px; text-align:center; border:1px solid #ccc; }
    .tic-grid { display:grid; grid-template-columns: repeat(3, 80px); gap:4px; }
    .tic-cell { width:80px; height:80px; font-size:32px; display:flex; align-items:center; justify-content:center; border:2px solid black; cursor:pointer; }
    .connect-grid { display:grid; grid-template-columns: repeat(7, 60px); gap:4px; }
    .connect-cell { width:60px; height:60px; border-radius:50%; background:#ddd; display:flex; align-items:center; justify-content:center; cursor:pointer; }
    .player1 { background:red !important; }
    .player2 { background:yellow !important; }
  </style>
</head>
<body class="bg-gray-100 p-6 text-center">
  <div id="menu">
    <h1 class="text-3xl font-bold mb-6">ðŸŽ® Mini Games</h1>
    <div class="grid gap-4 max-w-sm mx-auto">
      <button onclick="startGame('sudoku')" class="p-3 bg-blue-500 text-white rounded-xl">Sudoku</button>
      <button onclick="startGame('tic')" class="p-3 bg-green-500 text-white rounded-xl">Tic Tac Toe</button>
      <button onclick="startGame('connect')" class="p-3 bg-red-500 text-white rounded-xl">Connect Four</button>
      <button onclick="startGame('2048')" class="p-3 bg-yellow-500 text-white rounded-xl">2048</button>
    </div>
  </div>
  <div id="game-area" class="hidden"></div>

<script>
let currentGame = null;

// Start selected game
function startGame(game) {
  currentGame = game;
  document.getElementById("menu").classList.add("hidden");
  const area = document.getElementById("game-area");
  area.classList.remove("hidden");
  area.innerHTML = `
    <button onclick="backToMenu()" class="mb-4 px-4 py-2 bg-gray-400 rounded-lg">â¬… Back</button>
    <h2 class="text-2xl font-bold mb-2">${game.toUpperCase()}</h2>
    <button onclick="toggleInstructions()" class="mb-3 px-4 py-2 bg-gray-300 rounded-xl">How to Play</button>
    <div id="instructions" class="hidden bg-white p-3 border rounded-xl mb-3 text-left"></div>
    <div id="board" class="flex justify-center"></div>
  `;
  setInstructions(game);
  if(game==="sudoku") initSudoku();
  if(game==="tic") initTicTacToe();
  if(game==="connect") initConnectFour();
  if(game==="2048") init2048();
}
function backToMenu() {
  document.getElementById("game-area").classList.add("hidden");
  document.getElementById("menu").classList.remove("hidden");
}
function toggleInstructions() {
  document.getElementById("instructions").classList.toggle("hidden");
}
function setInstructions(game){
  const el=document.getElementById("instructions");
  if(game==="sudoku"){
    el.innerHTML="Fill the grid with numbers 1-9 so each row, column, and 3x3 box has all numbers.";
  } else if(game==="tic"){
    el.innerHTML="Click squares to place your mark. Get 3 in a row to win.";
  } else if(game==="connect"){
    el.innerHTML="Click a column to drop your piece. Get 4 in a row to win.";
  } else if(game==="2048"){
    el.innerHTML="Use arrow keys to move tiles. Merge same numbers to reach 2048.";
  }
}

/* --- Sudoku (simplified checker) --- */
function initSudoku(){
  const board=document.getElementById("board");
  let html="<div class='sudoku-grid'>";
  for(let i=0;i<81;i++){
    html+=`<input maxlength=1 class="sudoku-cell" id="s${i}" />`;
  }
  html+="</div><button onclick='checkSudoku()' class='mt-3 p-2 bg-blue-500 text-white rounded'>Check</button>";
  board.innerHTML=html;
}
function checkSudoku(){
  alert("Sudoku check not fully implemented. This is a placeholder.");
}

/* --- Tic Tac Toe --- */
let ticBoard, ticPlayer;
function initTicTacToe(){
  ticBoard=["","","","","","","","",""];
  ticPlayer="X";
  renderTic();
}
function renderTic(){
  const board=document.getElementById("board");
  let html="<div class='tic-grid'>";
  ticBoard.forEach((cell,i)=>{
    html+=`<div class="tic-cell" onclick="playTic(${i})">${cell}</div>`;
  });
  html+="</div>";
  board.innerHTML=html;
}
function playTic(i){
  if(ticBoard[i]) return;
  ticBoard[i]=ticPlayer;
  if(checkTicWin(ticPlayer)){alert(ticPlayer+" wins!"); initTicTacToe(); return;}
  ticPlayer = ticPlayer==="X"?"O":"X";
  renderTic();
}
function checkTicWin(p){
  const w=[[0,1,2],[3,4,5],[6,7,8],[0,3,6],[1,4,7],[2,5,8],[0,4,8],[2,4,6]];
  return w.some(comb=>comb.every(i=>ticBoard[i]===p));
}

/* --- Connect Four --- */
let connectBoard, connectPlayer;
function initConnectFour(){
  connectBoard=Array.from({length:6},()=>Array(7).fill(""));
  connectPlayer="1";
  renderConnect();
}
function renderConnect(){
  const board=document.getElementById("board");
  let html="<div class='connect-grid'>";
  for(let r=0;r<6;r++){
    for(let c=0;c<7;c++){
      const val=connectBoard[r][c];
      html+=`<div class="connect-cell ${val==='1'?'player1':val==='2'?'player2':''}" onclick="playConnect(${c})"></div>`;
    }
  }
  html+="</div>";
  board.innerHTML=html;
}
function playConnect(c){
  for(let r=5;r>=0;r--){
    if(!connectBoard[r][c]){
      connectBoard[r][c]=connectPlayer;
      if(checkConnect(connectPlayer)){alert("Player "+connectPlayer+" wins!"); initConnectFour(); return;}
      connectPlayer=connectPlayer==="1"?"2":"1";
      break;
    }
  }
  renderConnect();
}
function checkConnect(p){
  for(let r=0;r<6;r++){
    for(let c=0;c<7;c++){
      if(c+3<7 && [0,1,2,3].every(i=>connectBoard[r][c+i]===p)) return true;
      if(r+3<6 && [0,1,2,3].every(i=>connectBoard[r+i][c]===p)) return true;
      if(r+3<6 && c+3<7 && [0,1,2,3].every(i=>connectBoard[r+i][c+i]===p)) return true;
      if(r-3>=0 && c+3<7 && [0,1,2,3].every(i=>connectBoard[r-i][c+i]===p)) return true;
    }
  }
  return false;
}

/* --- 2048 --- */
let grid;
function init2048(){
  grid=Array(4).fill(0).map(()=>Array(4).fill(0));
  addTile(); addTile();
  render2048();
  document.onkeydown=handle2048Key;
}
function render2048(){
  const board=document.getElementById("board");
  let html="<div class='grid-2048'>";
  for(let r=0;r<4;r++){
    for(let c=0;c<4;c++){
      const val=grid[r][c];
      html+=`<div class='cell-2048 bg-${val? "yellow-300":"gray-200"}'>${val||""}</div>`;
    }
  }
  html+="</div>";
  board.innerHTML=html;
}
function addTile(){
  const empty=[];
  for(let r=0;r<4;r++) for(let c=0;c<4;c++) if(!grid[r][c]) empty.push([r,c]);
  if(!empty.length) return;
  const [r,c]=empty[Math.floor(Math.random()*empty.length)];
  grid[r][c]=Math.random()<0.9?2:4;
}
function handle2048Key(e){
  let moved=false;
  if(e.key==="ArrowLeft") moved=move2048(0,-1);
  if(e.key==="ArrowRight") moved=move2048(0,1);
  if(e.key==="ArrowUp") moved=move2048(-1,0);
  if(e.key==="ArrowDown") moved=move2048(1,0);
  if(moved){addTile(); render2048();}
}
function move2048(dr,dc){
  let moved=false;
  for(let r=0;r<4;r++){
    for(let c=0;c<4;c++){
      let rr=r,cc=c;
      while(true){
        let nr=rr+dr,nc=cc+dc;
        if(nr<0||nr>=4||nc<0||nc>=4) break;
        if(!grid[nr][nc]){
          grid[nr][nc]=grid[rr][cc]; grid[rr][cc]=0;
          rr=nr; cc=nc; moved=true;
        } else if(grid[nr][nc]===grid[rr][cc]){
          grid[nr][nc]*=2; grid[rr][cc]=0; moved=true; break;
        } else break;
      }
    }
  }
  return moved;
}
</script>
</body>
</html>

